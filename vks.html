<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Christoph Coijanovic</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="About Christoph Coijanovic">
    <meta name="author" content="Christoph Coijanovic">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>Domain Spoofing with Github Pages</h1>
        
        <p>I run a small recipe blog that is hosted with <a href="github.io">Github Pages</a>. Today, I was checking which pages of the blog Google is indexing and noticed a suspicious search result (see first picture, fifth result).</p>

        <div class="figure">
            <img width="100%" src="img/vks2.png" alt="Google Search Results" />
        </div>

        <p>Upon closer inspection, I found out that a subdomain of mine was used to host a russian file sharing page (see second picture).</p>

        <div class="figure">
            <img width="100%" src="img/vks1.png" alt="My domain, not my content" />
        </div>
        
        <h2>How is this possible?</h2>

        <p>As it turns out, I was using a wildcard DNS record:</p>

        <pre><code>*   A   [GitHub IP]</code></pre>

        <p>
            This causes all requests for subdomains (e.g., <code>test.vollkornsaskia.de</code>) to be routed to GitHub's servers. 
            If someone were to set up a GitHub page using an arbitrary subdomain of mine, GitHub would find that the DNS entry for this (sub)domain points to their server. 
            The page would be served for this domain, even with ssl certificate.
        </p>

        <h2>Solving the problem</h2>

        <p>
            To solve the problem, the wildcard DNS record has to be removed. 
            Then, the problematic subdomain will not point to GitHub servers any longer.
        </p>
        <p>
            GitHub should probably stop allowing subdomains to be used for pages if they do not have an explicit DNS record.
        </p>
    </div>
</body>
